(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"+Lft":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row q-caption"},[i("div",{staticClass:"col-6"},[i("div",{},[e._v("Tiempo Laboral")]),e._l(e.value.uptime,function(t,a){return i("div",{key:a,staticClass:"row"},[i("div",{staticClass:"col-4"},[e._v("\n        "+e._s(e.$date.formatDate(t.start_time,"HH:mm"))+"\n        "),i("q-tooltip",[e._v("Hora Entrada")])],1),i("div",{staticClass:"col-2"},[i("q-checkbox",{attrs:{value:t.start_require_event,readonly:""}},[i("q-tooltip",[e._v("Marca Entrada")])],1)],1),i("div",{staticClass:"col-4"},[e._v("\n        "+e._s(e.$date.formatDate(t.end_time,"HH:mm"))+"\n        "),i("q-tooltip",[e._v("Hora Salida")])],1),i("div",{staticClass:"col-2"},[i("q-checkbox",{attrs:{value:t.end_require_event,readonly:""}},[i("q-tooltip",[e._v("Marca Salida")])],1)],1)])})],2),i("div",{staticClass:"col-3"},[i("div",{},[e._v("Tiempo Pausa")]),e._l(e.value.breaktime,function(t,a){return i("div",{key:a,staticClass:"row"},[i("div",{staticClass:"col-3"},[i("q-checkbox",{attrs:{value:t.start_require_event,readonly:""}},[i("q-tooltip",[e._v("Marca Inicio")])],1)],1),i("div",{staticClass:"col-6"},[e._v("\n        "+e._s(e.$date.formatDate(t.duration,"HH:mm"))+"\n      ")]),i("div",{staticClass:"col-3"},[i("q-checkbox",{attrs:{value:t.end_require_event,readonly:""}},[i("q-tooltip",[e._v("Marca Fin")])],1)],1)])})],2),e._m(0)])},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-3"},[i("div",{},[e._v("Tiempo Libre")])])}];a._withStripped=!0;var o={name:"ScheduleCompact",props:{value:{type:Object,required:!0}}},l=o,d=(i("JBdb"),i("KHd+")),r=Object(d["a"])(l,a,n,!1,null,"306259aa",null);t["a"]=r.exports},"/Xhl":function(e,t,i){},"0aP9":function(e,t,i){"use strict";var a=i("Ijpe"),n=i.n(a);n.a},"0k24":function(e,t,i){"use strict";var a=i("/Xhl"),n=i.n(a);n.a},Alwt:function(e,t,i){"use strict";var a=i("W7hK"),n=i.n(a);n.a},GWAx:function(e,t,i){"use strict";var a=i("J0au"),n=i.n(a);n.a},Ijpe:function(e,t,i){},J0au:function(e,t,i){},JBdb:function(e,t,i){"use strict";var a=i("aXO0"),n=i.n(a);n.a},W7hK:function(e,t,i){},aXO0:function(e,t,i){},k7eu:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-input",{attrs:{readonly:e.isReadonly,placeholder:"Nombre de la jornada"},model:{value:e.$v.model.schedule_name.$model,callback:function(t){e.$set(e.$v.model.schedule_name,"$model",t)},expression:"$v.model.schedule_name.$model"}}),i("q-input",{attrs:{readonly:e.isReadonly,placeholder:"Descripcion"},model:{value:e.$v.model.description.$model,callback:function(t){e.$set(e.$v.model.description,"$model",t)},expression:"$v.model.description.$model"}}),i("div",{staticClass:"row gutter-sm q-my-sm"},[i("div",{staticClass:"col"},[i("div",{staticClass:"q-title"},[e._v("Tiempo Laboral")]),e._l(e.$v.model.uptime.$each.$iter,function(t,a){return i("schedule-uptime",{key:a,attrs:{readonly:e.isReadonly},on:{remove:function(t){e.model.uptime.splice(Number(a),1)}},model:{value:t.$model,callback:function(i){e.$set(t,"$model",i)},expression:"item.$model"}})})],2),i("div",{staticClass:"col"},[i("div",{staticClass:"q-title"},[e._v("Tiempo Pausa")]),e._l(e.$v.model.breaktime.$each.$iter,function(t,a){return i("schedule-breaktime",{key:a,attrs:{readonly:e.isReadonly},on:{remove:function(t){e.model.breaktime.splice(Number(a),1)}},model:{value:t.$model,callback:function(i){e.$set(t,"$model",i)},expression:"item.$model"}})})],2),i("div",{staticClass:"col"},[i("div",{staticClass:"q-title"},[e._v("Tiempo Libre")]),e._l(e.$v.model.downtime.$each.$iter,function(t,a){return i("schedule-downtime",{key:a,attrs:{readonly:e.isReadonly},on:{remove:function(t){e.model.downtime.splice(Number(a),1)}},model:{value:t.$model,callback:function(i){e.$set(t,"$model",i)},expression:"item.$model"}})})],2)]),i("q-slide-transition",[e.isReadonly?[i("div",{staticClass:"text-center q-my-md"},[i("q-btn",{attrs:{rounded:"",size:"md",label:"modificar",icon:"edit"},on:{click:e.setEditable}},[i("q-tooltip",[e._v("Volver la jornada editable")])],1)],1)]:e._e()],2),i("q-slide-transition",[e.isReadonly?e._e():[i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col text-center q-my-md"},[i("q-btn",{attrs:{flat:"",rounded:"",icon:"add"},on:{click:function(t){e.model.uptime.push({timetype_id:null,description:"",start_time:null,start_require_event:!0,end_time:null,end_require_event:!0,value:0})}}},[i("q-tooltip",[e._v("\n                Aggregar Tiempo Laboral\n              ")])],1)],1),i("div",{staticClass:"col text-center q-my-md"},[i("q-btn",{attrs:{flat:"",rounded:"",icon:"add"},on:{click:function(t){e.model.breaktime.push({timetype_id:null,description:"",start_time:null,start_require_event:!0,end_time:null,end_require_event:!0,duration:null})}}},[i("q-tooltip",[e._v("\n                Aggregar Tiempo de Pausa\n              ")])],1)],1),i("div",{staticClass:"col text-center q-my-md"},[i("q-btn",{attrs:{flat:"",rounded:"",icon:"add"},on:{click:function(t){e.model.downtime.push({timetype_id:null,description:"",value:0})}}},[i("q-tooltip",[e._v("\n                Aggregar Tiempo Libre\n              ")])],1)],1)]),i("div",{staticClass:"text-center q-my-md"},[i("q-btn-dropdown",{attrs:{rounded:"",size:"md",label:"Selecionar"}},[i("q-list",{attrs:{link:""}},e._l(e.presets,function(t,a){return i("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],key:a,nativeOn:{click:function(i){e.setPresetModelValue(t)}}},[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[e._v(e._s(t.schedule_name))]),i("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(t.description))])],1)],1)}))],1)],1)])]],2)],1)},n=[];a._withStripped=!0;i("91GP"),i("rGqo"),i("xfY5");var o=i("MVZn"),l=i.n(o),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("q-input",{attrs:{placeholder:"Descripcion",readonly:e.readonly||!e.expanded,"hide-underline":""},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),i("div",{staticClass:"col-auto"},[e.expandable?i("q-btn",{attrs:{dense:"",flat:"",icon:"keyboard_arrow_"+(e.expanded?"up":"down")},on:{click:function(t){e.expanded=!e.expanded}}}):e._e()],1),e.readonly?e._e():i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{dense:"",color:"negative",icon:"close"},on:{click:function(t){e.$emit("remove")}}},[i("q-tooltip",[e._v("\n          Quitar "+e._s(e.model.description)+"\n        ")])],1)],1)]),i("q-slide-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"row"},[i("div",{staticClass:"col-6"},[i("q-select",{attrs:{readonly:e.readonly,options:e.breaktimeTimetypesOptions},model:{value:e.model.timetype_id,callback:function(t){e.$set(e.model,"timetype_id",t)},expression:"model.timetype_id"}})],1),i("div",{staticClass:"col-6"},[i("q-datetime",{attrs:{readonly:e.readonly,type:"time",format24h:""},model:{value:e.model.duration,callback:function(t){e.$set(e.model,"duration",t)},expression:"model.duration"}})],1),i("div",{staticClass:"col-6"},[i("q-datetime",{attrs:{readonly:e.readonly,type:"time",format24h:!1},model:{value:e.model.start_time,callback:function(t){e.$set(e.model,"start_time",t)},expression:"model.start_time"}}),i("q-checkbox",{attrs:{readonly:e.readonly},model:{value:e.model.start_require_event,callback:function(t){e.$set(e.model,"start_require_event",t)},expression:"model.start_require_event"}},[i("q-tooltip",[e._v("Debe Marcar Inicio")])],1)],1),i("div",{staticClass:"col-6"},[i("q-datetime",{attrs:{readonly:e.readonly,type:"time",format24h:!1},model:{value:e.model.end_time,callback:function(t){e.$set(e.model,"end_time",t)},expression:"model.end_time"}}),i("q-checkbox",{attrs:{readonly:e.readonly},model:{value:e.model.end_require_event,callback:function(t){e.$set(e.model,"end_require_event",t)},expression:"model.end_require_event"}},[i("q-tooltip",[e._v("Debe Marcar Fin")])],1)],1)])]),i("hr")],1)},r=[];d._withStripped=!0;var s=i("L2JU"),c={name:"ScheduleUptime",props:{value:{type:Object,required:!0},hoursInDay:{type:Number,default:8},expandable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},data:function(){return{expanded:!1}},watch:{model:{deep:!0,handler:function(){this.$emit("input",this.model)}}},computed:l()({model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},Object(s["c"])("hr",{breaktimeTimetypesOptions:"breaktimeTimetypesOptions"}))},u=c,m=(i("Alwt"),i("KHd+")),p=Object(m["a"])(u,d,r,!1,null,"06930de8",null),v=p.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("q-input",{attrs:{placeholder:"Descripcion",readonly:e.readonly||!e.expanded,"hide-underline":""},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),i("div",{staticClass:"col-auto"},[e.expandable?i("q-btn",{attrs:{dense:"",flat:"",icon:"keyboard_arrow_"+(e.expanded?"up":"down")},on:{click:function(t){e.expanded=!e.expanded}}}):e._e()],1),e.readonly?e._e():i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{dense:"",color:"negative",icon:"close"},on:{click:function(t){e.$emit("remove")}}},[i("q-tooltip",[e._v("\n          Quitar "+e._s(e.model.description)+"\n        ")])],1)],1)]),i("q-slide-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"row"},[i("div",{staticClass:"col-6"},[i("q-select",{attrs:{readonly:e.readonly,options:e.uptimeTimetypesOptions},model:{value:e.model.timetype_id,callback:function(t){e.$set(e.model,"timetype_id",t)},expression:"model.timetype_id"}})],1),i("div",{staticClass:"col-6"},[i("q-input",{attrs:{readonly:e.readonly,align:"center",type:"number",prefix:"Cubre",suffix:"%",value:100*e.model.value},on:{input:function(t){e.model.value=t>0?t/100:0}}})],1),i("div",{staticClass:"col-6"},[i("q-datetime",{attrs:{readonly:e.readonly,type:"time"},model:{value:e.model.start_time,callback:function(t){e.$set(e.model,"start_time",t)},expression:"model.start_time"}}),i("q-checkbox",{attrs:{readonly:e.readonly},model:{value:e.model.start_require_event,callback:function(t){e.$set(e.model,"start_require_event",t)},expression:"model.start_require_event"}},[i("q-tooltip",[e._v("Debe Marcar Entrada")])],1)],1),i("div",{staticClass:"col-6"},[i("q-datetime",{attrs:{readonly:e.readonly,type:"time"},model:{value:e.model.end_time,callback:function(t){e.$set(e.model,"end_time",t)},expression:"model.end_time"}}),i("q-checkbox",{attrs:{readonly:e.readonly},model:{value:e.model.end_require_event,callback:function(t){e.$set(e.model,"end_require_event",t)},expression:"model.end_require_event"}},[i("q-tooltip",[e._v("Debe Marcar Salida")])],1)],1)])]),i("hr"),i("pre",[e._v(e._s(e.model))])],1)},h=[];_._withStripped=!0;var f={name:"ScheduleUptime",props:{value:{type:Object,required:!0},hoursInDay:{type:Number,default:8},expandable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},data:function(){return{expanded:!1}},watch:{model:{deep:!0,handler:function(){this.$emit("input",this.model)}},"model.start_time":function(){this.setModelValue()},"model.end_time":function(){this.setModelValue()}},computed:l()({model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},Object(s["c"])("hr",{uptimeTimetypesOptions:"uptimeTimetypesOptions"})),methods:{setModelValue:function(){if(this.model.start_time&&this.model.end_time){var e=this.$date.getDateDiff(this.model.end_time,this.model.start_time,"minutes");e<0||(this.model.value=e/60/this.hoursInDay)}}}},y=f,q=(i("0aP9"),Object(m["a"])(y,_,h,!1,null,"318886f8",null)),b=q.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("q-input",{attrs:{placeholder:"Descripcion",readonly:e.readonly||!e.expanded,"hide-underline":""},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),i("div",{staticClass:"col-auto"},[e.expandable?i("q-btn",{attrs:{dense:"",flat:"",icon:"keyboard_arrow_"+(e.expanded?"up":"down")},on:{click:function(t){e.expanded=!e.expanded}}}):e._e()],1),e.readonly?e._e():i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{dense:"",color:"negative",icon:"close"},on:{click:function(t){e.$emit("remove")}}},[i("q-tooltip",[e._v("\n          Quitar "+e._s(e.model.description)+"\n        ")])],1)],1)]),i("q-slide-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"row"},[i("div",{staticClass:"col-6"},[i("q-select",{attrs:{readonly:e.readonly,options:e.downtimeTimetypesOptions},model:{value:e.model.timetype_id,callback:function(t){e.$set(e.model,"timetype_id",t)},expression:"model.timetype_id"}})],1),i("div",{staticClass:"col-6"},[i("q-input",{attrs:{readonly:e.readonly,type:"number",prefix:"Cubre",align:"center",suffix:"%",value:100*e.model.value},on:{input:function(t){e.model.value=t>0?t/100:0}}})],1)])]),i("hr")],1)},x=[];$._withStripped=!0;var k={name:"ScheduleUptime",props:{value:{type:Object,required:!0},hoursInDay:{type:Number,default:8},expandable:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},data:function(){return{expanded:!1}},watch:{model:{deep:!0,handler:function(){this.$emit("input",this.model)}}},computed:l()({model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},Object(s["c"])("hr",{downtimeTimetypesOptions:"downtimeTimetypesOptions"}))},w=k,C=(i("GWAx"),Object(m["a"])(w,$,x,!1,null,"550f94d2",null)),O=C.exports,g=i("+Lft"),j=i("ta7f");function D(e){return{schedule_name:"",description:"",standard:e,breaktime:[],uptime:[],downtime:[]}}var S={name:"Schedule",components:{ScheduleBreaktime:v,ScheduleUptime:b,ScheduleDowntime:O,ScheduleCompact:g["a"]},props:{readonly:{type:Boolean,default:!1},standard:{type:Boolean,default:!1},value:{type:Object,default:function(){return D(this.standard)}}},data:function(){return{model:D(this.standard)}},validations:{model:{required:j["required"],totalModelValue:function(e){return 1===this.totalModelValue},schedule_name:{requiredIf:Object(j["requiredIf"])(function(e){return this.standard})},description:{},breaktime:{$each:{timetype_id:{required:j["required"]},description:{},start_time:{required:j["required"]},start_require_event:{},end_time:{required:j["required"]},end_require_event:{},duration:{required:j["required"]}}},uptime:{$each:{timetype_id:{required:j["required"]},description:{},start_time:{required:j["required"]},start_require_event:{},end_time:{required:j["required"]},end_require_event:{},value:{required:j["required"]}}},downtime:{$each:{timetype_id:{required:j["required"]},description:{},value:{required:j["required"]}}}}},computed:l()({},Object(s["c"])("hr",{presets:"schedulePresets"}),{valid:function(){return!this.$v.model.$invalid},isReadonly:function(){return this.readonly||!!this.model&&!!this.model.schedule_id},totalUpValue:function(){return this.model&&this.model.uptime?this.model.uptime.reduce(function(e,t){return e+Number(t.value)},0):0},totalDownValue:function(){return this.model&&this.model.downtime?this.model.downtime.reduce(function(e,t){return e+Number(t.value)},0):0},totalModelValue:function(){return this.totalUpValue+this.totalDownValue}}),watch:{value:function(e){null!==e&&e!==this.model&&(this.model=e)},model:{deep:!0,handler:function(){this.isReadonly||this.$emit("input",this.valid?this.model:null)}}},methods:{setEditable:function(){var e=this;this.$delete(this.model,"schedule_id"),this.model.breaktime.forEach(function(t){e.$delete(t,"schedule_id"),e.$delete(t,"schedule_breaktime_id")}),this.model.uptime.forEach(function(t){e.$delete(t,"schedule_id"),e.$delete(t,"schedule_uptime_id")}),this.model.downtime.forEach(function(t){e.$delete(t,"schedule_id"),e.$delete(t,"schedule_downtime_id")})},setPresetModelValue:function(e){var t=JSON.parse(JSON.stringify(e));this.model=Object.assign({},{standard:this.standard},t)}}},T=S,M=(i("0k24"),Object(m["a"])(T,a,n,!1,null,"cf893c2c",null));t["a"]=M.exports}}]);