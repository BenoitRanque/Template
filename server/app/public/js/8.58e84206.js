(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"3KYi":function(s,t,e){},"8t9Y":function(s,t,e){"use strict";var a=e("3KYi"),r=e.n(a);r.a},CBi8:function(s,t,e){"use strict";var a=e("Mnv2"),r=e.n(a);r.a},GmLd:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("q-page",{staticClass:"group",attrs:{padding:""}},[e("q-field",{attrs:{label:s.$t("displayname")}},[e("q-input",{attrs:{readonly:"",value:s.user.displayname}})],1),e("q-field",{attrs:{label:s.$t("username")}},[e("q-input",{attrs:{readonly:"",value:s.user.username}})],1),e("div",{staticClass:"text-center q-my-md"},[e("q-btn",{attrs:{icon:"lock_open",color:"negative"},on:{click:function(t){s.$refs.passwordResetModal.show()}}},[s._v(s._s(s.$t("reset_password")))])],1),e("q-modal",{ref:"passwordResetModal",attrs:{"content-css":"width: 80vw; height: 80vh;"},on:{hide:function(t){s.$refs.passwordreset.reset()}}},[e("q-modal-layout",[e("q-toolbar",{staticClass:"q-py-none q-pr-none",attrs:{slot:"header"},slot:"header"},[e("q-toolbar-title",[s._v("\n          "+s._s(s.$t("reset_password"))+"\n        ")]),e("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"no-shadow",staticStyle:{"border-radius":"0"},attrs:{icon:"close",color:"negative",size:"lg"}})],1),e("q-toolbar",{staticClass:"justify-around q-py-sm",attrs:{slot:"footer",align:"around"},slot:"footer"}),e("div",{staticClass:"layout-padding"},[e("reset-password",{ref:"passwordreset",attrs:{own:""}})],1)],1)],1)],1)},r=[];a._withStripped=!0;var o=e("MVZn"),n=e.n(o),i=e("KM7y"),c=e("L2JU"),d={name:"User",components:{ResetPassword:i["a"]},computed:n()({},Object(c["c"])("core",{user:"sessionUser",authenticated:"isAuthenticated"}))},p=d,l=(e("8t9Y"),e("KHd+")),u=e("yMMI"),w=Object(l["a"])(p,a,r,!1,null,null,null);"function"===typeof u["default"]&&Object(u["default"])(w);t["default"]=w.exports},"K+MS":function(s,t){s.exports=function(s){s.options.__i18n=s.options.__i18n||[],s.options.__i18n.push('{"es":{"reset_password":"Cambiar contraseña","username":"Login","displayname":"Nombre"}}'),delete s.options._Ctor}},KM7y:function(s,t,e){"use strict";var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"group"},[e("q-field",{attrs:{label:s.$t("password"),error:s.$v.password1.$error,"error-label":"",helper:s.$t("password_new")}},[e("q-input",{attrs:{type:"password"},on:{input:function(t){s.$v.password1.$touch()}},model:{value:s.password1,callback:function(t){s.password1=t},expression:"password1"}})],1),e("q-field",{attrs:{label:s.$t("password"),error:s.$v.password2.$error,"error-label":s.$t("password_missmatch"),helper:s.$t("password_repeat")}},[e("q-input",{attrs:{type:"password"},on:{blur:function(t){s.$v.password2.$touch()}},model:{value:s.password2,callback:function(t){s.password2=t},expression:"password2"}})],1),e("q-field",{attrs:{label:s.$t("password_strength")}},[e("q-progress",{staticClass:"q-my-md",attrs:{percentage:20*s.passwordStrength,color:s.passwordStrengthColor,height:"6px"}})],1),e("div",{staticClass:"text-center q-py-sm"},[e("q-btn",{attrs:{disable:s.$v.$invalid,size:"lg",color:"negative",outline:"",label:s.$t("password_reset")},on:{click:function(t){s.confirm()}}})],1)],1)},r=[];a._withStripped=!0;var o=e("MVZn"),n=e.n(o),i=e("WA7+"),c=e.n(i),d=e("2LSj"),p=e("L2JU"),l=e("ta7f"),u={name:"ResetPassword",props:{userId:String,username:String,own:Boolean},data:function(){return{password1:"",password2:""}},validations:{password1:{},password2:{sameAs:Object(l["sameAs"])("password1")}},computed:n()({passwordStrength:function(){return""===this.password1?0:c()(this.password1,["guembe"]).score+1},passwordStrengthColor:function(){switch(this.passwordStrength){case 0:return"negative";case 1:return"negative";case 2:return"warning";case 3:return"info";case 4:return"positive";case 5:return"positive"}}},Object(p["e"])("core",{session:"session"})),methods:{reset:function(){this.$v.$reset(),this.password1="",this.password2=""},confirm:function(){var s=this;this.$q.dialog({title:this.$t("reset_title"),message:"".concat(this.$t("reset_message")," ").concat(this.username?this.username:this.session?this.session.user.username:""),ok:!0,cancel:!0}).then(function(){s.update()}).catch(function(){})},update:function(){var s=this,t={};this.own?t.own=!0:t.user_id=this.userId,this.$axios.put(d["c"],{password:this.password1},{params:t}).then(function(){s.$q.notify({message:s.$t("password_reset_success"),type:"positive"})}).catch(function(){s.reset(),s.$q.notify({message:s.$t("password_reset_error"),type:"negative"})})}}},w=u,f=(e("CBi8"),e("KHd+")),h=e("uoC4"),_=Object(f["a"])(w,a,r,!1,null,null,null);"function"===typeof h["default"]&&Object(h["default"])(_);t["a"]=_.exports},Mnv2:function(s,t,e){},Yfcy:function(s,t){s.exports=function(s){s.options.__i18n=s.options.__i18n||[],s.options.__i18n.push('{"es":{"password":"Contraseña","password_new":"Contraseña nueva","password_reset":"Restablecer Contraseña","password_strength":"Fuerza de la Contraseña","password_repeat":"Repita la contraseña","password_missmatch":"Las contraseñas no son iguales","reset_title":"Restablecer Contraseña","reset_message":"La contraseña sera restablecida para usuario:","password_reset_success":"Contraseña Restablecida","password_reset_error":"Error"}}'),delete s.options._Ctor}},uoC4:function(s,t,e){"use strict";var a=e("Yfcy"),r=e.n(a);t["default"]=r.a},yMMI:function(s,t,e){"use strict";var a=e("K+MS"),r=e.n(a);t["default"]=r.a}}]);