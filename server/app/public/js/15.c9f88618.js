(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"2JDL":function(e,t,i){"use strict";var o=i("LN0X"),a=i.n(o);a.a},"2izI":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[e.showSelect?i("q-select",{attrs:{filter:"","hide-underline":"",value:e.value?e.value.schedule_id:null,options:e.standardScheduleOptions},on:{input:e.inputScheduleId}}):i("q-input",{attrs:{"hide-underline":"",value:e.value?e.value.schedule_name:""}})],1),i("div",{staticClass:"col-auto"},[e.value?i("q-btn",{attrs:{dense:"",color:"primary",flat:"",icon:"info"}},[i("q-popover",[i("schedule-compact",{attrs:{value:e.value}})],1)],1):e._e()],1),i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{dense:"",color:"primary",flat:"",icon:"search"},on:{click:function(t){e.$emit("input",null)}}},[i("q-tooltip",[e._v("\n        Escojer desde lista\n      ")])],1)],1),i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{dense:"",color:"primary",flat:"",icon:"edit"},on:{click:function(t){e.$refs.modal.show()}}},[i("q-tooltip",[e._v("\n        Crear jornada\n      ")])],1)],1),i("q-modal",{ref:"modal",attrs:{"content-css":"width: 80vw; height: 80vh;"}},[i("q-modal-layout",[i("q-toolbar",{staticClass:"q-py-none q-pr-none",attrs:{slot:"header"},slot:"header"},[i("q-toolbar-title"),i("q-btn",{staticClass:"no-shadow",staticStyle:{"border-radius":"0"},attrs:{icon:"close",color:"negative",size:"lg"},on:{click:function(t){e.$refs.modal.hide()}}})],1),i("q-toolbar",{staticClass:"justify-around q-py-sm",attrs:{slot:"footer",align:"around"},slot:"footer"},[i("q-btn",{attrs:{size:"lg",rounded:"",color:"positive",icon:"check",disable:!e.value},on:{click:function(t){e.$refs.modal.hide()}}},[e._v("Listo")])],1),i("div",{staticClass:"layout-padding"},[i("schedule",{attrs:{value:e.value},on:{input:e.inputSchedule}})],1)],1)],1)],1)},a=[];o._withStripped=!0;var n=i("MVZn"),s=i.n(n),l=i("L2JU"),r=i("k7eu"),c=i("+Lft"),d={name:"ScheduleSelect",components:{Schedule:r["a"],ScheduleCompact:c["a"]},props:{value:{type:Object,default:null}},data:function(){return{standard:!0}},computed:s()({},Object(l["c"])("hr",{standardScheduleOptions:"standardScheduleOptions"}),{showSelect:function(){return!this.value||this.value.standard}}),methods:s()({},Object(l["c"])("hr",{standardScheduleById:"standardScheduleById"}),{inputSchedule:function(e){this.$emit("input",e)},inputScheduleId:function(e){console.log(this.standardScheduleOptions),console.log(e);var t=this.standardScheduleById()(e);console.log(t);var i=JSON.parse(JSON.stringify(t));this.$emit("input",i)}})},u=d,p=(i("2JDL"),i("KHd+")),m=Object(p["a"])(u,o,a,!1,null,"16b07fea",null);t["a"]=m.exports},"4/3K":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"es":{"modal":{"title":"Excepcion","subtitle":" "}}}'),delete e.options._Ctor}},JM7P:function(e,t,i){},K43U:function(e,t,i){"use strict";var o=i("JM7P"),a=i.n(o);a.a},LN0X:function(e,t,i){},NbrG:function(e,t,i){},P9L3:function(e,t,i){"use strict";var o=i("NbrG"),a=i.n(o);a.a},QDrA:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",[i("q-table",{staticClass:"no-shadow",attrs:{title:e.table.title,"row-key":e.table.rowKey,loading:e.table.loading,data:e.table.data,columns:e.table.columns,filter:e.table.filter,pagination:e.table.pagination},on:{"update:pagination":function(t){e.$set(e.table,"pagination",t)}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[i("q-btn",{staticClass:"q-mr-sm",attrs:{round:"",flat:"",color:"primary",icon:"refresh",size:"md"},on:{click:function(t){e.fetchItems()}}}),i("q-search",{staticClass:"col-6",attrs:{"hide-underline":"",color:"secondary"},model:{value:e.table.filter,callback:function(t){e.$set(e.table,"filter",t)},expression:"table.filter"}})]}},{key:"top-right",fn:function(t){return[i("q-select",{attrs:{options:e.subordinateEmployeeOptions,clearable:"",filter:"","hide-underline":"",prefix:"Empleados: ","display-value":e.queryParams.employee?"":"Todos"},model:{value:e.queryParams.employee,callback:function(t){e.$set(e.queryParams,"employee",t)},expression:"queryParams.employee"}}),i("q-select",{attrs:{prefix:"Estado: ","hide-underline":"","display-value":e.queryParams.status.length?"":"Todos",multiple:"",options:[{value:"pending",label:"Pendientes"},{value:"approved",label:"Aprobadas"},{value:"denied",label:"Denegada"}]},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}}),e.isAuthorized(e.resource,"create","any")?i("q-btn",{attrs:{round:"",color:"positive",icon:"add",size:"md"},on:{click:function(t){e.$refs.createModal.show()}}}):e._e()]}},{key:"body-cell-edit",fn:function(t){return i("q-td",{attrs:{props:t,"auto-width":""}},[i("q-btn",{attrs:{size:"md",round:"",dense:"",flat:"",icon:"info",color:"dark"},on:{click:function(i){e.view=t.row,e.$refs.viewModal.show()}}})],1)}}])}),i("q-modal",{ref:"createModal",attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":"","content-css":"width: 80vw; height: 80vh;"}},[i("q-modal-layout",[i("q-toolbar",{staticClass:"q-py-none q-pr-none",attrs:{slot:"header"},slot:"header"},[i("q-toolbar-title",[e._v("\n          "+e._s(e.$t("create"))+" "+e._s(e.$t("modal.title"))+"\n          "),i("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e.$t("modal.subtitle")))])]),i("q-btn",{staticClass:"no-shadow",staticStyle:{"border-radius":"0"},attrs:{icon:"close",color:"negative",size:"lg"},on:{click:function(t){e.cancel(e.$refs.createModal)}}})],1),i("q-toolbar",{staticClass:"justify-around q-py-sm",attrs:{slot:"footer",align:"around"},slot:"footer"}),i("exception",{on:{create:e.createException,close:function(t){e.$refs.createModal.hide()}},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}})],1)],1),i("q-modal",{ref:"viewModal",attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":"","content-css":"width: 80vw; height: 80vh;"}},[i("q-modal-layout",[i("q-toolbar",{staticClass:"q-py-none q-pr-none",attrs:{slot:"header"},slot:"header"},[i("q-toolbar-title",[e._v("\n          "+e._s(e.$t("edit"))+" "+e._s(e.$t("modal.title"))+"\n          "),i("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e.$t("modal.subtitle")))])]),i("q-btn",{staticClass:"no-shadow",staticStyle:{"border-radius":"0"},attrs:{icon:"close",color:"negative",size:"lg"},on:{click:function(t){e.$refs.viewModal.hide()}}})],1),i("q-toolbar",{staticClass:"justify-around q-py-sm",attrs:{slot:"footer",align:"around"},slot:"footer"},[e.canDelete?i("q-btn",{attrs:{size:"lg",rounded:"",color:"negative",icon:"delete"},on:{click:e.deleteException}},[e._v(e._s(e.$t("buttons.deleteItem")))]):e._e(),e.canAuthorize?[i("q-btn",{attrs:{size:"lg",rounded:"",color:"warning",icon:"delete"},on:{click:function(t){e.grantAuthorization(!1)}}},[e._v(e._s(e.$t("buttons.denyAuthorization")))]),i("q-btn",{attrs:{size:"lg",rounded:"",color:"positive",icon:"check"},on:{click:function(t){e.grantAuthorization(!0)}}},[e._v(e._s(e.$t("buttons.grantAuthorization")))])]:e._e()],2),i("div",{staticClass:"layout-padding"},[e.view?i("exception-view",{attrs:{value:e.view}}):e._e()],1)],1)],1)],1)},a=[];o._withStripped=!0;var n=i("J4zp"),s=i.n(n),l=(i("VRzm"),i("rGqo"),i("yt8O"),i("MVZn")),r=i.n(l),c=i("2LSj"),d=i("L2JU"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("q-stepper",{ref:"stepper",attrs:{vertical:""}},[i("q-step",{attrs:{default:"",order:0,title:"Bienvenido",subtitle:"Escoja el tipo de boleta"}},[i("div",{staticClass:"q-headline"},[e._v("\n        Bienvenido\n      ")]),i("div",{staticClass:"q-title"},[e._v("\n        Empecemos\n      ")]),i("q-stepper-navigation",{staticClass:"justify-around q-pa-md"},[i("q-btn",{attrs:{label:"Cambio de Horario",color:"primary",size:"lg","icon-right":"arrow_forward"},on:{click:function(t){e.setMode(1)}}}),i("q-btn",{attrs:{label:"Cambio de Libre",color:"primary",size:"lg","icon-right":"arrow_forward"},on:{click:function(t){e.setMode(2)}}}),i("q-btn",{attrs:{label:"Vacacion",color:"primary",size:"lg","icon-right":"arrow_forward"},on:{click:function(t){e.setMode(3)}}}),i("q-btn",{attrs:{label:"Boleta avanzada",color:"primary",size:"lg","icon-right":"arrow_forward"},on:{click:function(t){e.setMode(0)}}})],1)],1),i("q-step",{attrs:{order:1,title:"Empleado",subtitle:"Escoja un empleado"}},[i("q-select",{attrs:{filter:"",options:e.subordinateEmployeeOptions},model:{value:e.$v.model.employee_id.$model,callback:function(t){e.$set(e.$v.model.employee_id,"$model",t)},expression:"$v.model.employee_id.$model"}}),i("q-stepper-navigation",{staticClass:"justify-around"},[i("q-btn",{attrs:{flat:"",icon:"arrow_back"},on:{click:function(t){e.$refs.stepper.previous()}}},[e._v("Anterior")]),i("q-btn",{attrs:{disable:e.$v.model.employee_id.$invalid,color:"primary","icon-right":"arrow_forward"},on:{click:function(t){e.$refs.stepper.next()}}},[e._v("Siguiente")])],1)],1),0===e.mode?[i("q-step",{attrs:{title:"Detalles",order:11}},[e._l(e.$v.model.slots.$each.$iter,function(t,o){return i("div",{key:o},[i("q-field",{attrs:{label:"Fecha"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("q-datetime",{model:{value:t.date.$model,callback:function(i){e.$set(t.date,"$model",i)},expression:"slot.date.$model"}})],1),i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{dense:"",color:"negative",icon:"close"},on:{click:function(t){e.$v.model.slots.$model.splice(Number(o),1)}}},[i("q-tooltip",[e._v("Quitar Dia")])],1)],1)])]),i("q-field",{attrs:{label:"Jornada"}},[i("schedule-select",{staticClass:"col",on:{input:function(e){t.schedule_id.$model=e&&e.schedule_id?e.schedule_id:null}},model:{value:t.schedule.$model,callback:function(i){e.$set(t.schedule,"$model",i)},expression:"slot.schedule.$model"}})],1)],1)}),i("div",{staticClass:"text-center q-my-md"},[i("q-btn",{attrs:{icon:"add",flat:"",rounded:""},on:{click:function(t){e.$v.model.slots.$model.push({date:null,schedule_id:null,schedule:null})}}},[i("q-tooltip",[e._v("aggregar dia")])],1)],1),i("q-stepper-navigation",{staticClass:"justify-around"},[i("q-btn",{attrs:{flat:"",icon:"arrow_back"},on:{click:function(t){e.$refs.stepper.previous()}}},[e._v("Anterior")]),i("q-btn",{attrs:{disable:e.$v.model.slots.$invalid,color:"primary","icon-right":"arrow_forward"},on:{click:function(t){e.$refs.stepper.next()}}},[e._v("Siguiente")])],1)],2)]:e._e(),1===e.mode?[i("q-step",{attrs:{title:"Escoja la fecha y el horario",order:11}},[e._l(e.$v.model.slots.$each.$iter,function(t,o){return i("div",{key:o},[i("q-field",{attrs:{label:"Fecha"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("q-datetime",{model:{value:t.date.$model,callback:function(i){e.$set(t.date,"$model",i)},expression:"slot.date.$model"}})],1)])]),i("q-field",{attrs:{label:"Jornada"}},[i("schedule-select",{staticClass:"col",on:{input:function(e){t.schedule_id.$model=e&&e.schedule_id?e.schedule_id:null}},model:{value:t.schedule.$model,callback:function(i){e.$set(t.schedule,"$model",i)},expression:"slot.schedule.$model"}})],1)],1)}),i("q-stepper-navigation",{staticClass:"justify-around"},[i("q-btn",{attrs:{flat:"",icon:"arrow_back"},on:{click:function(t){e.$refs.stepper.previous()}}},[e._v("Anterior")]),i("q-btn",{attrs:{disable:e.$v.model.slots.$invalid,color:"primary","icon-right":"arrow_forward"},on:{click:function(t){e.$refs.stepper.next()}}},[e._v("Siguiente")])],1)],2)]:e._e(),2===e.mode?[i("q-step",{attrs:{title:"Escoja las fechas",order:11}},[i("q-field",{attrs:{label:"Fecha 1"}},[i("q-datetime",{model:{value:e.dateA,callback:function(t){e.dateA=t},expression:"dateA"}})],1),i("q-field",{attrs:{label:"Fecha 2"}},[i("q-datetime",{model:{value:e.dateB,callback:function(t){e.dateB=t},expression:"dateB"}})],1),i("q-stepper-navigation",{staticClass:"justify-around"},[i("q-btn",{attrs:{flat:"",icon:"arrow_back"},on:{click:function(t){e.$refs.stepper.previous()}}},[e._v("Anterior")]),i("q-btn",{attrs:{disable:e.$v.dateA.$invalid||e.$v.dateB.$invalid,color:"primary","icon-right":"arrow_forward"},on:{click:e.automate}},[e._v("Siguiente")])],1)],1)]:e._e(),3===e.mode?[i("q-step",{attrs:{title:"Escoja las fechas",order:11}},[i("q-field",{attrs:{label:"Fecha 1"}},[i("q-datetime",{model:{value:e.dateA,callback:function(t){e.dateA=t},expression:"dateA"}})],1),i("q-field",{attrs:{label:"Fecha 2"}},[i("q-datetime",{model:{value:e.dateB,callback:function(t){e.dateB=t},expression:"dateB"}})],1),i("q-stepper-navigation",{staticClass:"justify-around"},[i("q-btn",{attrs:{flat:"",icon:"arrow_back"},on:{click:function(t){e.$refs.stepper.previous()}}},[e._v("Anterior")]),i("q-btn",{attrs:{disable:e.$v.dateA.$invalid||e.$v.dateB.$invalid,color:"primary","icon-right":"arrow_forward"},on:{click:e.automate}},[e._v("Siguiente")])],1)],1)]:e._e(),i("q-step",{attrs:{order:21,title:"Revisar e Solicitar"},on:{select:e.setAutoTitleAndDesc}},[e._l(e.$v.model.slots.$each.$iter,function(t,o){return i("q-field",{key:o,attrs:{label:e.$date.formatDate(t.date.$model,"YYYY/MM/DD - dddd")}},[i("schedule-view",{attrs:{value:t.schedule.$model}})],1)}),i("q-input",{attrs:{placeholder:"Comentario"},model:{value:e.$v.model.description.$model,callback:function(t){e.$set(e.$v.model.description,"$model",t)},expression:"$v.model.description.$model"}}),i("q-stepper-navigation",{staticClass:"justify-around"},[i("q-btn",{attrs:{flat:"",icon:"arrow_back"},on:{click:function(t){e.$refs.stepper.previous()}}},[e._v("Anterior")]),i("q-btn",{attrs:{disable:e.$v.model.$invalid,color:"primary","icon-right":"check"},on:{click:e.requestException}},[e._v("Solicitar")])],1)],2),i("q-step",{attrs:{order:22,title:"Imprimir"}},[e._v("\n      imprimir\n      Boleta Solicitada exitosamente\n      "),i("q-stepper-navigation",{staticClass:"justify-around"},[i("q-btn",{attrs:{flat:"",icon:"refresh"},on:{click:function(t){e.$refs.stepper.reset()}}},[e._v("Nueva Boleta")]),i("q-btn",{attrs:{color:"info","icon-right":"print"},on:{click:e.print}},[e._v("Imprimir")])],1)],1),i("q-inner-loading",{attrs:{visible:e.loading}})],2)],1)},p=[];u._withStripped=!0;var m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.value?i("div",{staticClass:"row"},[e._l(e.value.uptime,function(t,o){return i("div",{key:"uptime_"+o,staticClass:"col text-center q-pa-sm",style:{background:e.timetypeById(t.timetype_id).color,width:100*t.value+"%"}},[e._v("\n      "+e._s(e.timetypeById(t.timetype_id).code)+"\n      "),i("br"),i("span",{staticClass:"q-caption"},[e._v("\n        "+e._s(e.$date.formatDate(t.start_time,"HH:mm"))+"\n        -\n        "+e._s(e.$date.formatDate(t.end_time,"HH:mm"))+"\n      ")]),i("q-tooltip",[e._v("\n        "+e._s(t.description)+"\n      ")])],1)}),e._l(e.value.downtime,function(t,o){return i("div",{key:"downtime_"+o,staticClass:"col text-center q-pa-sm",style:{background:e.timetypeById(t.timetype_id).color,width:100*t.value+"%"}},[e._v("\n      "+e._s(e.timetypeById(t.timetype_id).code)+"\n      "),i("q-tooltip",[e._v("\n        "+e._s(t.description)+"\n      ")])],1)}),e._l(e.value.breaktime,function(t,o){return i("div",{key:"breaktime_"+o,staticClass:"col-auto text-center q-pa-sm",style:{background:e.timetypeById(t.timetype_id).color}},[e._v("\n      "+e._s(e.timetypeById(t.timetype_id).code)+"\n      "),i("q-tooltip",[e._v("\n        "+e._s(t.description)+"\n      ")])],1)})],2):e._e()])},f=[];m._withStripped=!0;var h={name:"ScheduleView",props:{value:{type:Object,required:!0}},computed:r()({},Object(d["c"])("hr",{timetypeById:"timetypeById"}))},v=h,b=(i("P9L3"),i("KHd+")),q=Object(b["a"])(v,m,f,!1,null,"c193b690",null),_=q.exports,y=i("2izI"),$=i("ta7f"),g={name:"Exception",components:{ScheduleView:_,ScheduleSelect:y["a"]},data:function(){return{dateA:null,dateB:null,loading:!1,mode:0,model:{description:"",employee_id:null,slots:[]}}},validations:{dateA:{required:$["required"]},dateB:{required:$["required"]},model:{description:{},employee_id:{required:$["required"]},slots:{required:$["required"],$each:{date:{required:$["required"]},schedule_id:{requiredIf:Object($["requiredIf"])(function(e){return!e.schedule})},schedule:{requiredIf:Object($["requiredIf"])(function(e){return!e.schedule_id})}}}}},computed:r()({},Object(d["c"])("hr",{subordinateEmployeeOptions:"subordinateEmployeeOptions"}),{valid:function(){return!this.$v.model.$invalid}}),watch:{model:{deep:!0,handler:function(){this.$emit("input",this.valid?this.model:null)}}},methods:{automate:function(){var e=this;this.loading=!0,this.$axios.post(c["j"],{employee:this.model.employee_id,dateA:this.dateA,dateB:this.dateB},{params:{mode:this.mode}}).then(function(t){var i=t.data;e.loading=!1,e.model.slots=i.slots,e.$refs.stepper.next()}).catch(function(){e.loading=!1})},print:function(){this.$q.notify("imprimiendo")},setAutoTitleAndDesc:function(){console.log(c["i"])},requestException:function(){var e=this;this.loading=!0,this.$emit("create",[this.model,function(){e.loading=!1},function(){e.loading=!1}])},setMode:function(e){switch(this.mode=e,e){case 0:this.model.slots.push({date:null,schedule_id:null,schedule:null});break;case 1:this.model.slots.push({date:null,schedule_id:null,schedule:null});break;case 2:break;case 3:break;default:throw new Error("Unknown exception mode: ".concat(e))}this.$refs.stepper.next()}}},w=g,k=(i("R18n"),Object(b["a"])(w,u,p,!1,null,"7fedda5c",null)),x=k.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.value.slots,function(t,o){return i("q-field",{key:o,attrs:{label:e.$date.formatDate(t.date,"YYYY/MM/DD - dddd")}},[i("schedule-view",{attrs:{value:t.schedule}})],1)}))},E=[];S._withStripped=!0;var C={name:"ExceptionView",components:{ScheduleView:_},props:{value:{type:Object,required:!0}}},A=C,j=(i("QYGE"),Object(b["a"])(A,S,E,!1,null,"a3ab6898",null)),z=j.exports;function I(){return{description:"",employee_id:null,slots:[]}}var O={name:"HRAttException",components:{Exception:x,ExceptionView:z},data:function(){var e=this;return{resource:"HRAttException",apiRoute:c["h"],view:null,queryParams:{status:["pending"],employee:null},item:I(),table:{loading:!1,rowKey:"exception_id",title:"",filter:"",data:[],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:10},columns:[{name:"fechaSolicitud",required:!0,label:"Fecha de Solicitud",align:"left",field:function(t){return e.$date.formatDate(t.created_at,"DD/MM/YYYY")},sortable:!0},{name:"employee",required:!0,label:"Empleado",align:"left",field:function(e){return e.employee.name_first},sortable:!0},{name:"description",required:!0,label:"Comentario",align:"left",field:"description",sortable:!0},{name:"status",label:"Estado",required:!0,sortable:!0,field:function(e){return e.authorization?e.authorization.granted?"Authorizada":"Denegada":"Pendiente"}},{name:"edit",label:"",required:!0}]}}},validations:{item:{description:{},employee_id:{required:$["required"]},slots:{$each:{schedule:{required:$["required"]},schedule_id:{requiredIf:Object($["requiredIf"])(function(e){return e.schedule&&e.schedule.schedule_id})},date:{required:$["required"]}}}}},computed:r()({},Object(d["c"])("core",{isAuthorized:"isAuthorized",sessionUser:"sessionUser"}),Object(d["c"])("hr",{subordinateEmployeeOptions:"subordinateEmployeeOptions"}),{isPending:function(){return!!this.view&&!!this.view.authorization},canAuthorize:function(){return!!this.view&&!this.isPending&&this.isAuthorized("HRAttExceptionAuthorization","create","any")},canDelete:function(){return!!this.view&&!this.isPending&&this.isAuthorized("HRAttExceptionAuthorization","delete","own")&&this.sessionUser.user_id===this.view.owner_id}}),methods:r()({},Object(d["b"])("hr",{fetchTimetypes:"fetchTimetypes",fetchSubordinateEmployees:"fetchSubordinateEmployees",fetchStandardSchedules:"fetchStandardSchedules"}),{newItem:function(){return I()},cancel:function(e){this.$q.dialog({title:this.$t("confirm.cancelEdit.title"),message:this.$t("confirm.cancelEdit.message"),ok:!0,cancel:!0}).then(function(){e.hide()}).catch(function(){})},fetchItems:function(){var e=this;this.table.loading=!0,Promise.all([this.$axios.get(c["h"],{params:r()({eager:"[employee, slots.schedule.[breaktime, uptime, downtime], authorization, owner]",own:!1},this.queryParams)}),this.fetchTimetypes(),this.fetchSubordinateEmployees(),this.fetchStandardSchedules()]).then(function(t){e.table.data=t[0]&&t[0].data?t[0].data:[],e.table.loading=!1}).catch(function(){e.table.loading=!1})},createException:function(e){var t=this,i=s()(e,3),o=i[0],a=i[1],n=i[2];this.$axios.post(c["h"],o).then(function(){t.$q.notify({message:t.$t("operation.create.success"),type:"positive"}),a()}).catch(function(){t.$q.notify({message:t.$t("operation.create.failure"),type:"warning"}),n()})},deleteException:function(){var e=this;this.$q.dialog({title:this.$t("confirm.deleteItem.title"),message:this.$t("confirm.deleteItem.message"),ok:!0,cancel:!0}).then(function(){e.$q.loading.show(),e.$axios.delete(c["h"],{params:{exception_id:e.view.exception_id}}).then(function(){e.$q.loading.hide(),e.$q.notify({message:e.$t("operation.delete.success"),type:"positive"}),e.fetchItems()}).catch(function(){e.$q.loading.hide(),e.$q.notify({message:e.$t("operation.delete.failure"),type:"positive"})})}).catch(function(){})},grantAuthorization:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$q.dialog({title:t?this.$t("buttons.grantAuthorization"):this.$t("buttons.denyAuthorization"),message:"",ok:!0,cancel:!0}).then(function(){e.$q.loading.show(),e.$axios.post(c["i"],{exception_id:e.view.exception_id,granted:t}).then(function(){e.$q.loading.hide(),e.$q.notify({message:e.$t("operation.update.success"),type:"positive"}),e.reset(),e.fetchItems()}).catch(function(){e.$q.loading.hide(),e.$q.notify({message:e.$t("operation.update.failure"),type:"warning"})})}).catch(function(){})}}),mounted:function(){this.fetchItems()}},B=O,D=(i("K43U"),i("TjEE")),M=Object(b["a"])(B,o,a,!1,null,null,null);"function"===typeof D["default"]&&Object(D["default"])(M);t["default"]=M.exports},QYGE:function(e,t,i){"use strict";var o=i("vaiR"),a=i.n(o);a.a},R18n:function(e,t,i){"use strict";var o=i("rxib"),a=i.n(o);a.a},TjEE:function(e,t,i){"use strict";var o=i("4/3K"),a=i.n(o);t["default"]=a.a},rxib:function(e,t,i){},vaiR:function(e,t,i){}}]);