(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"2LSj":function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"d",function(){return n}),r.d(t,"b",function(){return o}),r.d(t,"h",function(){return a}),r.d(t,"c",function(){return l}),r.d(t,"g",function(){return s}),r.d(t,"e",function(){return c}),r.d(t,"f",function(){return u}),r.d(t,"o",function(){return d}),r.d(t,"i",function(){return p}),r.d(t,"l",function(){return h}),r.d(t,"n",function(){return m}),r.d(t,"m",function(){return f}),r.d(t,"j",function(){return v}),r.d(t,"k",function(){return b});var i="/api/v1/core/login",n="/api/v1/core/ping",o="/api/v1/core/logout",a="/api/v1/core/user",l="/api/v1/core/password",s="/api/v1/core/role",c="/api/v1/core/privilege",u="/api/v1/core/resource",d="/api/v1/hr/employee",p="/api/v1/hr/attbreak",h="/api/v1/hr/attschedule",m="/api/v1/hr/atttype",f="/api/v1/hr/attshift",v="/api/v1/hr/attexception",b="/api/v1/hr/attreport"},8:function(e,t,r){e.exports=r("JJXq")},C4Dx:function(e,t,r){},Hl11:function(e,t,r){},JJXq:function(e,t,r){"use strict";r.r(t);var i={};r.d(i,"isAuthenticated",function(){return F}),r.d(i,"isAuthorized",function(){return D}),r.d(i,"sessionUser",function(){return N});var n={};r.d(n,"login",function(){return U}),r.d(n,"logout",function(){return $}),r.d(n,"idleTimerOn",function(){return R}),r.d(n,"pingTimerOn",function(){return z}),r.d(n,"idleTimerOff",function(){return j}),r.d(n,"pingTimerOff",function(){return H});var o={};r.d(o,"login",function(){return ie}),r.d(o,"logout",function(){return ne}),r.d(o,"sessionTimeout",function(){return oe});var a=r("MVZn"),l=r.n(a),s=r("dPHQ"),c=r("Kw5r"),u=r("4IOb");c["default"].use(u["W"],{cfg:{},i18n:s["a"],components:{QLayout:u["r"],QLayoutHeader:u["t"],QLayoutDrawer:u["s"],QPageContainer:u["z"],QPage:u["y"],QPageSticky:u["A"],QToolbar:u["P"],QToolbarTitle:u["Q"],QTabs:u["L"],QTab:u["H"],QTabPane:u["I"],QRouteTab:u["D"],QChip:u["h"],QBtn:u["e"],QBtnGroup:u["f"],QIcon:u["m"],QField:u["l"],QInput:u["n"],QChipsInput:u["i"],QSelect:u["F"],QCheckbox:u["g"],QToggle:u["O"],QDatetime:u["k"],QColor:u["j"],QProgress:u["C"],QModal:u["w"],QModalLayout:u["x"],QPopover:u["B"],QTooltip:u["R"],QList:u["u"],QListHeader:u["v"],QItem:u["o"],QItemMain:u["p"],QItemSide:u["q"],QTable:u["J"],QTableColumns:u["K"],QTr:u["S"],QTd:u["M"],QTh:u["N"],QSearch:u["E"],QSlideTransition:u["G"]},directives:{Ripple:u["T"],CloseOverlay:u["a"]},plugins:{Notify:u["d"],Loading:u["c"],Dialog:u["b"]}});r("QBu7"),r("flf9"),r("WWXe"),r("Zrw1"),r("Hl11"),r("fm0S");var d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"q-app"}},[r("router-view",{staticClass:"print-hide"}),r("print-preview")],1)},p=[];d._withStripped=!0;r("VRzm");var h=r("L2JU"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-modal",{staticClass:"print-area",class:{"print-only":!e.preview},attrs:{maximized:""},on:{show:function(t){!e.preview&&e.print()},hide:function(t){e.preview=!1}},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[r("q-toolbar",{staticClass:"q-py-none q-pr-none print-hide"},[r("q-toolbar-title",[e._v("\n        Print Preview\n      ")]),r("q-btn",{staticClass:"no-shadow",staticStyle:{"border-radius":"0"},attrs:{icon:"print",color:"info",size:"lg"},on:{click:function(t){e.print()}}}),r("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],staticClass:"no-shadow",staticStyle:{"border-radius":"0"},attrs:{icon:"close",color:"negative",size:"lg"}})],1),r("portal-target",{attrs:{name:"print",multiple:""}})],1)},f=[];m._withStripped=!0;var v,b={name:"PrintPreview",data:function(){return{preview:!1,modal:!1}},methods:{requestPrint:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.preview=t,this.modal&&(this.modal=!1),this.$nextTick(function(){e.modal=!0})},print:function(){var e=this;if(this.$q.platform.is.electron){var t=r("vbkW"),i=t.remote;i.getCurrentWebContents().print({silent:!1,printBackground:!0,deviceName:""},function(t){e.modal=!1,t||e.$q.notify({type:"negative",message:"Something went wrong"})})}else window.print()}},created:function(){this.$root.$on("PRINT",this.requestPrint)},beforeDestroy:function(){this.$root.$off("PRINT",this.requestPrint)}},g=b,y=(r("YBaJ"),r("KHd+")),w=Object(y["a"])(g,m,f,!1,null,null,null),T=w.exports,_={name:"App",components:{PrintPreview:T},computed:Object(h["c"])("core",{isAuthenticated:"isAuthenticated",isAuthorized:"isAuthorized"}),data:function(){return{printData:null}},methods:l()({},Object(h["d"])("core",{logoutMutation:"logout"})),created:function(){var e=this;this.$router.beforeEach(function(t,r,i){var n=t.meta,o=n.requireAuthentication,a=n.requireAuthorization;!o&&!a||e.isAuthenticated?a&&!e.isAuthorized(a.resource,a.action,a.possession)?(e.$root.$emit("ACCESS_DENIED"),e.$q.notify({type:"negative",message:"Access Denied"}),i(!1)):i():(e.$root.$emit("AUTHENTICATION_REQUIRED"),i(!1))}),this.$axios.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),this.$axios.interceptors.response.use(function(e){return e},function(t){return 401===t.response.status?(e.isAuthenticated&&e.logoutMutation(),e.$root.$emit("AUTHENTICATION_REQUIRED"),console.log("auth required")):e.$q.notify({type:"negative",message:t.response.data}),Promise.reject(t)}),this.$store.subscribeAction(function(t,r){switch(t.type){case"core/sessionTimeout":return e.$root.$emit("SESSION_TIMEOUT")}})}},A=_,q=(r("pHJT"),Object(y["a"])(A,d,p,!1,null,"3245f242",null)),C=q.exports,x=r("jE9Z"),E=(r("rGqo"),r("RIqP")),Q=r.n(E),O=r("a64x"),k=[{path:"/",component:function(){return r.e(5).then(r.bind(null,"OrBq"))},children:[{path:"",component:function(){return r.e(4).then(r.bind(null,"kmF/"))},meta:{label:"index"}},{path:"user",component:function(){return Promise.all([r.e(0),r.e(8)]).then(r.bind(null,"GmLd"))},meta:{label:"user",requireAuthentication:!0}}]}].concat(Q()((v=[]).concat.apply(v,Q()(O["a"].map(P)))),[{path:"*",component:function(){return r.e(7).then(r.bind(null,"ez0Y"))},children:[{path:"",component:function(){return r.e(6).then(r.bind(null,"7l0S"))},meta:{label:"404"}}]}]);function P(e){var t=[],i={},n=e.tabs.map(function(t){return{meta:t.meta,hash:t.hash,root:e.hash}});return o(e,n),e.tabs.forEach(function(e){o(e,n)}),t;function o(n,o){var a=n.hash,l=n.layout,s=n.meta;void 0===i[l]&&(i[l]=t.length,t.push({path:"/".concat(e.hash),component:function(){return r("nEb/")("./".concat(l))},children:[]})),s.tabs=o,t[i[l]].children.push({path:n===e?"":a,component:function(){return r("o4Pc")("./".concat(e.hash,"/").concat(n===e?"index":a))},meta:s})}}c["default"].use(x["a"]);var I=new x["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:k}),S=I,L={pingTimer:null,idleTimer:null,session:{user:null,privileges:null,active:!1}};r("Z2Ku"),r("L9s1");function F(e){var t=e.session;return t.active}function D(e,t){var r=e.session,i=t.isAuthenticated;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["read","create","update","delete"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"any",o=function(e,t){return Array.isArray(e)?e.some(t):t(e)};return i&&o(e,function(e){return r.privileges.hasOwnProperty(e)&&o(t,function(t){return r.privileges[e].hasOwnProperty(t)&&o(n,function(i){return r.privileges[e][t].includes(i)})})})}}function N(e,t){var r=e.session,i=t.isAuthenticated;return i?r.user:{}}function U(e,t){var r=t.user,i=t.privileges;e.session.user=r||{},e.session.privileges=i||[],e.session.active=!0}function $(e){e.session.user=null,e.session.privileges=null,e.session.active=!1}function R(e,t){e.idleTimer&&e.idleTimer.timerOff(),e.idleTimer=t}function z(e,t){e.pingTimer&&e.pingTimer.timerOff(),e.pingTimer=t}function j(e,t){e.idleTimer&&e.idleTimer.timerOff()}function H(e,t){e.pingTimer&&e.pingTimer.timerOff()}var M=r("lwsE"),J=r.n(M),V=r("W8MJ"),B=r.n(V),G=r("vDqi"),W=r.n(G),Y=W.a.create({timeout:1e3,withCredentials:!0}),X=function(e){var t=e.Vue;t.prototype.$axios=Y},K=r("2LSj"),Z=6e5,ee=3e5,te=function(){function e(t,r){J()(this,e),this.timer=null,this.timeout=t,this.timerExpired=r,this.resetTimer(),this.timerOn()}return B()(e,[{key:"timerOn",value:function(){window.addEventListener("scroll",this.resetTimer,!0),window.addEventListener("mousemove",this.resetTimer,!0),window.addEventListener("mousedown",this.resetTimer,!0),window.addEventListener("keypress",this.resetTimer,!0)}},{key:"timerOff",value:function(){window.removeEventListener("scroll",this.resetTimer,!0),window.removeEventListener("mousemove",this.resetTimer,!0),window.removeEventListener("mousedown",this.resetTimer,!0),window.removeEventListener("keypress",this.resetTimer,!0)}},{key:"resetTimer",value:function(){console.log("reset idle"),clearTimeout(this.timer),this.timer=setTimeout(this.timerExpired,this.timeout)}}]),e}(),re=function(){function e(t){J()(this,e),this.timeout=t,this.timerOn()}return B()(e,[{key:"timerOn",value:function(){var e=this;this.timer=setTimeout(function(){console.log("ping"),Y.get(K["d"]).then(e.timerOn.bind(e)).catch(function(){})},this.timeout)}},{key:"timerOff",value:function(){clearTimeout(this.timer)}}]),e}();function ie(e,t){var r=e.commit,i=e.dispatch,n=t.username,o=t.password,a=t.success,l=t.failure;Y.post(K["a"],{username:n,password:o}).then(function(e){void 0!==a&&a(),r("login",{user:e.data.user,privileges:e.data.privileges}),r("idleTimerOn",new te(Z,function(){return i("sessionTimeout")})),r("pingTimerOn",new re(ee))}).catch(function(){void 0!==l&&l()})}function ne(e,t){var r=e.commit,i=t.success,n=t.failure;r("idleTimerOff"),r("pingTimerOff"),Y.delete(K["b"]).then(function(){r("logout"),void 0!==i&&i()}).catch(function(){r("logout"),void 0!==n&&n()})}function oe(e){var t=e.dispatch;console.log("session timeout idle"),t("logout",{})}var ae={namespaced:!0,state:L,getters:i,mutations:n,actions:o};c["default"].use(h["a"]);var le=new h["a"].Store({modules:{core:ae}}),se=le,ce=r("qSUR"),ue={},de={error:"Error de Validacion",required:"Campo obligatorio"},pe={name_first:{label:"Primer Nombre",placeholder:" ",helper:" "},name_middle:{label:"Segundo Nombre",placeholder:" ",helper:" "},name_paternal:{label:"Apellido Paterno",placeholder:" ",helper:" "},name_maternal:{label:"Apellido Materno",placeholder:" ",helper:" "},name_married:{label:"Apellido Casado",placeholder:" ",helper:" "},sex:{label:"Sexo",placeholder:" ",helper:" "},date_of_birth:{label:"Fecha de Nacimiento",placeholder:" ",helper:" "},place_of_birth:{label:"Lugar de Nacimiento",placeholder:" ",helper:" "},nationality:{label:"Nacionalidad",placeholder:" ",helper:" "},marital_status:{label:"Estado Civil",placeholder:" ",helper:" "},contact:{label:"Contacto",placeholder:" ",helper:" "},contact_type:{label:"Tipo de Contacto",placeholder:" ",helper:" "},contact_value:{label:"Dato",placeholder:" ",helper:" "},contact_description:{label:"Descripción",placeholder:" ",helper:" "},contact_emergency_contact:{label:"Contacto de Emergencia?",placeholder:" ",helper:" "},document_type:{label:"Tipo de Documento",placeholder:" ",helper:" "},document_number:{label:"Numero de Documento",placeholder:" ",helper:" "},document_extension:{label:"Extension de Documento",placeholder:" ",helper:" "},document_emitted:{label:"Lugar de emision",placeholder:" ",helper:" "},jubilado:{label:"Jubilado",placeholder:" ",helper:" "},aporta_afp:{label:"Aporta AFP",placeholder:" ",helper:" "},persona_con_discapacidad:{label:"Persona con discapacidad",placeholder:" ",helper:" "},tutor_persona_con_discapacidad:{label:"Tutor de persona con discapacidad",placeholder:" ",helper:" "},caja_de_salud:{label:"Caja de Salud",placeholder:" ",helper:" "},afp:{label:"AFP",placeholder:"AFP Prevision/Futuro",helper:"Afp a la que aporta"},nua_cua:{label:"NUA/CUA",placeholder:" ",helper:" "},external_contract_id:{label:"ID interna",placeholder:" ",helper:"ID de contrato de uso interna"},contract_sign_date:{label:"Firma del contrato",placeholder:" ",helper:"Fecha de firma del contrato"},contract_start_date:{label:"Inicio de contrato",placeholder:" ",helper:"Fecha de inicio del contrato"},contract_end_date:{label:"Fin de contrato",placeholder:" ",helper:"Fecha final del contrato"},contract_active:{label:"Contracto activo",placeholder:" ",helper:" "},contract_cancel_date:{label:"Fecha retiro",placeholder:" ",helper:" "},contract_cancel_motive:{label:"Motivo retiro",placeholder:" ",helper:" "},tipo_contrato:{label:"Tipo de contrato",placeholder:" ",helper:" "},modalidad_contrato:{label:"Modalidad de contrato",placeholder:" ",helper:" "},sucursal:{label:"Sucursal",placeholder:" ",helper:"Asignado por el Ministerio del Trabajo"},clasificacion_laboral:{label:"Clasificacion Laboral",placeholder:" ",helper:" "},contract:{label:"Contrato",placeholder:" ",helper:" "},schedule:{label:"Jornada",placeholder:"Selleccione Una Jornada",helper:" "}},he={sex:{male:"Masculino",female:"Femenino"},marital_status:{single:"Soltero",married:"Casado",divorced:"Divorciado",civil_union:"Union Civil"},boolean:{false:"No",true:"Si"},contact:{mobile:"Telefono Celular",phone:"Telefono Fijo",email:"Correo Electronico"},document_type:{carnet:"Carnet de Identidad",passport:"Passaporte"}},me={validation:de,field:pe,options:he,user:"Usuario",hr:"RRHH",employees:"Empleados",config:"Configuración",config_roles:"Configuracion de Roles",config_privileges:"Configuracion de Privilegios",config_users:"Configuracion de Usuarios",username:"Nombre de Usuario",password:"Contraseña",edit:"Editar",create:"Crear",update:"Actualizar",delete:"Eliminar",saveNew:"Guardar Nuevo",saveChanges:"Guardar Cambios",operation:{create:{success:"Item creado exitosamente",failure:"Error al crear el item"},update:{success:"Item modificado exitosamente",failure:"Error al modificar el item"},delete:{success:"Item eliminado exitosamente",failure:"Error al eliminar el item"}},buttons:{createItem:"Crear Item",updateItem:"Modificar Item",deleteItem:"Elimninar Item"},confirm:{cancelEdit:{title:"Cancelar?",message:"Cualquier cambio no guardado sera perdido"},createItem:{title:"Crear Item?",message:"Se creara un nuevo item en base de datos"},updateItem:{title:"Modificar Item?",message:"Se modificara el item en base de datos"},deleteItem:{title:"Eliminar Item?",message:"Se eliminara el item en base de datos"}}},fe={en:ue,es:me},ve=function(e){var t=e.app,r=(e.store,e.Vue);r.use(ce["a"]),t.i18n=new ce["a"]({silentTranslationWarn:!0,locale:"es",fallbackLocale:"es",messages:fe})},be=r("Hc5T"),ge=r.n(be),ye=function(e){e.app,e.router;var t=e.Vue;t.use(ge.a)},we=r("XNn6"),Te=r.n(we),_e=function(e){e.app,e.router;var t=e.Vue;t.use(Te.a)},Ae=function(e){e.app,e.router;var t=e.Vue;t.prototype.$date=u["V"]};c["default"].config.productionTip=!0;var qe=l()({el:"#q-app",router:S,store:se},C),Ce=[];Ce.push(ve),Ce.push(X),Ce.push(ye),Ce.push(_e),Ce.push(Ae),Ce.forEach(function(e){return e({app:qe,router:S,store:se,Vue:c["default"]})}),new c["default"](qe)},Y0y0:function(e,t,r){},YBaJ:function(e,t,r){"use strict";var i=r("C4Dx"),n=r.n(i);n.a},a64x:function(e,t,r){"use strict";var i={hash:"hr",layout:"index",meta:{label:"hr",requireAuthentication:!0},tabs:[{hash:"employees",layout:"workspace",meta:{label:"employees",requireAuthentication:!0,requireAuthorization:{resource:"HREmployee",posession:"any"}}},{hash:"break",layout:"workspace",meta:{label:"attbreak",requireAuthentication:!0,requireAuthorization:{resource:"HRAttBreaktime",posession:"any"}}},{hash:"type",layout:"workspace",meta:{label:"atttype",requireAuthentication:!0,requireAuthorization:{resource:"HRAttType",posession:"any"}}},{hash:"exception",layout:"workspace",meta:{label:"attexception",requireAuthentication:!0,requireAuthorization:{resource:"HRAttException",posession:"any"}}},{hash:"shift",layout:"workspace",meta:{label:"attshift",requireAuthentication:!0,requireAuthorization:{resource:"HRAttShift",posession:"any"}}},{hash:"schedule",layout:"workspace",meta:{label:"attschedule",requireAuthentication:!0,requireAuthorization:{resource:"HRAttSchedule",posession:"any"}}},{hash:"report",layout:"workspace",meta:{label:"attreport",requireAuthentication:!0}}]},n={hash:"config",layout:"index",meta:{label:"config",requireAuthentication:!0},tabs:[{hash:"users",layout:"workspace",meta:{label:"config_users",requireAuthentication:!0,requireAuthorization:{resource:"CoreUser",posession:"any"}}},{hash:"roles",layout:"workspace",meta:{label:"config_roles",requireAuthentication:!0,requireAuthorization:{resource:"CoreRole",posession:"any"}}},{hash:"privileges",layout:"workspace",meta:{label:"config_privileges",requireAuthentication:!0,requireAuthorization:{resource:"CorePrivilege",posession:"any"}}}]};t["a"]=[n,i]},fm0S:function(e,t,r){},"nEb/":function(e,t,r){var i={"./":["OrBq",5],"./default":["ez0Y",7],"./default.vue":["ez0Y",7],"./index":["OrBq",5],"./index.vue":["OrBq",5],"./workspace":["v4e0",9],"./workspace.vue":["v4e0",9]};function n(e){var t=i[e];return t?r.e(t[1]).then(function(){var e=r(t[0]);return e}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return Object.keys(i)},n.id="nEb/",e.exports=n},o4Pc:function(e,t,r){var i={"./":["kmF/",4],"./404":["7l0S",6],"./404.vue":["7l0S",6],"./config":["Uvw3",3],"./config/":["Uvw3",3],"./config/index":["Uvw3",3],"./config/index.vue":["Uvw3",3],"./config/privileges":["LxTI",0,20],"./config/privileges.vue":["LxTI",0,20],"./config/roles":["FgFx",0,19],"./config/roles.vue":["FgFx",0,19],"./config/users":["Xpni",0,18],"./config/users.vue":["Xpni",0,18],"./hr":["V5/F",2],"./hr/":["V5/F",2],"./hr/break":["x5hj",0,17],"./hr/break.vue":["x5hj",0,17],"./hr/employees":["O4RM",0,16],"./hr/employees.vue":["O4RM",0,16],"./hr/exception":["QDrA",0,1,15],"./hr/exception.vue":["QDrA",0,1,15],"./hr/index":["V5/F",2],"./hr/index.vue":["V5/F",2],"./hr/report":["UPiy",0,14],"./hr/report.vue":["UPiy",0,14],"./hr/schedule":["99Ce",0,1,13],"./hr/schedule.vue":["99Ce",0,1,13],"./hr/shift":["a7/6",0,1,12],"./hr/shift.vue":["a7/6",0,1,12],"./hr/test":["yjFs",11],"./hr/test.vue":["yjFs",11],"./hr/type":["JiqL",0,10],"./hr/type.vue":["JiqL",0,10],"./index":["kmF/",4],"./index.vue":["kmF/",4],"./user":["GmLd",0,8],"./user.vue":["GmLd",0,8]};function n(e){var t=i[e];return t?Promise.all(t.slice(1).map(r.e)).then(function(){var e=r(t[0]);return e}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return Object.keys(i)},n.id="o4Pc",e.exports=n},pHJT:function(e,t,r){"use strict";var i=r("Y0y0"),n=r.n(i);n.a}},[[8,21,0]]]);